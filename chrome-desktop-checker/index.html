<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style>
        body {
            font-family: monospace;
        }
        h1 {
            text-decoration: underline;
        }
        .user-agent-data h3 {
            text-decoration: underline;
            margin: 25px 0 0 0;
        }
    </style>
</head>
<body>
    <h1>Chrome Desktop Checker</h1>

    <div class="result">

    </div>

    <div class="user-agent-data">
        <h3>User Agent Data</h3>
    </div>
    
    <div class="window-inner-width">
        <h3>Window Inner Width</h3>
    </div>

    <script>
        const ui = {
            result: document.querySelector('.result'),
            uaData: document.querySelector('.user-agent-data'),
            windowInnerWidth: document.querySelector('.window-inner-width'),
        }

        if (isChromeDesktop()) ui.result.innerHTML = '<p>This is a Chrome Desktop!</p>';
        else ui.result.innerHTML = '<p>NOT A CHROME DESKTOP</p>';

        if (isClientMobile()) ui.result.innerHTML += '<p>THIS IS A MOBILE DEVICE</p>';
        else ui.result.innerHTML += '<p>This is NOT mobile</p>';

        ui.uaData.innerHTML += navigator.userAgent;

        displayWindowInnerDimensions();
        
        // ----------------------
        // EVENT LISTENERS
        // ----------------------
        window.addEventListener('resize', (e) => displayWindowInnerDimensions());

        // ----------------------
        // HELPER FUNCTION
        // ----------------------
        function isChromeDesktop() {
            return window.chrome && window.chrome.runtime
        }

        function isClientMobile() {
            // Sniff User Agent
            const mobileDevice = /Android|webOS|iPhone|iPad|iPod|Blackberry|Windows Phone|IEMobile|Opera Mini|Mobi/i;
            return mobileDevice.test(navigator.userAgent);
        }

        function displayWindowInnerDimensions() {
            ui.windowInnerWidth.innerHTML = `
            <p><strong>InnerWidth:</strong>${window.innerWidth}px</p>
            <p><strong>InnerHeight:</strong>${window.innerHeight}px</p>
        `;
        }
    </script>
</body>
</html>
